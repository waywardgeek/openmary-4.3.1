<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_29) on Wed Nov 30 14:31:30 CET 2011 -->
<TITLE>
TimelineReader.Index (Mary Java API)
</TITLE>

<META NAME="date" CONTENT="2011-11-30">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TimelineReader.Index (Mary Java API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/TimelineReader.Index.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../marytts/unitselection/data/TimelineReader.IdxField.html" title="class in marytts.unitselection.data"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../marytts/unitselection/data/TimelineReader.ProcHeader.html" title="class in marytts.unitselection.data"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?marytts/unitselection/data/TimelineReader.Index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TimelineReader.Index.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
marytts.unitselection.data</FONT>
<BR>
Class TimelineReader.Index</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>marytts.unitselection.data.TimelineReader.Index</B>
</PRE>
<DL>
<DT><B>Enclosing class:</B><DD><A HREF="../../../marytts/unitselection/data/TimelineReader.html" title="class in marytts.unitselection.data">TimelineReader</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public static class <B>TimelineReader.Index</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Simple helper class to read the index part of a timeline file.
 The index points to datagrams at or before a certain point in time.
 
 Note: If no datagram starts at the exact index time, it makes sense
 to point to the previous datagram rather than the following one.
 
 If one would store the location of the datagram which comes just after the index
 position (the currently tested datagram), there would be a possibility that
 a particular time request falls between the index and the datagram:
 
 time axis --------------------------------->
             INDEX <-- REQUEST
               |
                ---------------> DATAGRAM
                
 This would require a subsequent backwards time hopping, which is impossible
 because the datagrams are a singly linked list.
 
 By registering the location of the previous datagram, any time request will find
 an index which points to a datagram falling BEFORE or ON the index location:
 
 time axis --------------------------------->
             INDEX <-- REQUEST
               |
  DATAGRAM <---
 
 Thus, forward hopping is always possible and the requested time can always be reached.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>sacha</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../marytts/unitselection/data/TimelineReader.Index.html#TimelineReader.Index(int, java.util.Vector)">TimelineReader.Index</A></B>(int&nbsp;idxInterval,
                     java.util.Vector&lt;<A HREF="../../../marytts/unitselection/data/TimelineReader.IdxField.html" title="class in marytts.unitselection.data">TimelineReader.IdxField</A>&gt;&nbsp;indexFields)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor which builds a new index with a specific index interval
 and a given sample rate.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../marytts/unitselection/data/TimelineReader.Index.html#dump(java.io.RandomAccessFile)">dump</A></B>(java.io.RandomAccessFile&nbsp;rafIn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method which writes an index to a RandomAccessFile</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../marytts/unitselection/data/TimelineReader.IdxField.html" title="class in marytts.unitselection.data">TimelineReader.IdxField</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../marytts/unitselection/data/TimelineReader.Index.html#getIdxField(int)">getIdxField</A></B>(int&nbsp;i)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../marytts/unitselection/data/TimelineReader.IdxField.html" title="class in marytts.unitselection.data">TimelineReader.IdxField</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../marytts/unitselection/data/TimelineReader.Index.html#getIdxFieldBefore(long)">getIdxFieldBefore</A></B>(long&nbsp;timePosition)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the index field that comes immediately before or straight on the requested time.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../marytts/unitselection/data/TimelineReader.Index.html#getIdxInterval()">getIdxInterval</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The interval, in samples, between two index entries.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../marytts/unitselection/data/TimelineReader.Index.html#getNumIdx()">getNumIdx</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The number of index entries.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../marytts/unitselection/data/TimelineReader.Index.html#load(java.io.DataInput)">load</A></B>(java.io.DataInput&nbsp;rafIn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method which loads an index from a data input (random access file or data input stream).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../marytts/unitselection/data/TimelineReader.Index.html#print()">print</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method which writes an index to stdout</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="TimelineReader.Index(int, java.util.Vector)"><!-- --></A><H3>
TimelineReader.Index</H3>
<PRE>
public <B>TimelineReader.Index</B>(int&nbsp;idxInterval,
                            java.util.Vector&lt;<A HREF="../../../marytts/unitselection/data/TimelineReader.IdxField.html" title="class in marytts.unitselection.data">TimelineReader.IdxField</A>&gt;&nbsp;indexFields)
                     throws java.lang.IllegalArgumentException,
                            java.lang.NullPointerException</PRE>
<DL>
<DD>Constructor which builds a new index with a specific index interval
 and a given sample rate.
 Fundamental guarantee: Once created, the index is guaranteed to contain a positive index interval and
 monotonously rising byte and time pointers.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>idxInterval</CODE> - the index interval, in samples. Must be a positive number.<DD><CODE>indexFields</CODE> - the actual index data. Must not be null.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the index data given is not well-formed.
<DD><CODE>java.lang.NullPointerException</CODE> - if indexFields are null.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="load(java.io.DataInput)"><!-- --></A><H3>
load</H3>
<PRE>
public void <B>load</B>(java.io.DataInput&nbsp;rafIn)
          throws java.io.IOException,
                 <A HREF="../../../marytts/exceptions/MaryConfigurationException.html" title="class in marytts.exceptions">MaryConfigurationException</A></PRE>
<DL>
<DD>Method which loads an index from a data input (random access file or data input stream).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>rafIn</CODE> - data input from which to read the index.
 Must not be null, and read position must be at start of index.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if there is a problem reading.
<DD><CODE><A HREF="../../../marytts/exceptions/MaryConfigurationException.html" title="class in marytts.exceptions">MaryConfigurationException</A></CODE> - if the index is not well-formed.</DL>
</DD>
</DL>
<HR>

<A NAME="dump(java.io.RandomAccessFile)"><!-- --></A><H3>
dump</H3>
<PRE>
public long <B>dump</B>(java.io.RandomAccessFile&nbsp;rafIn)
          throws java.io.IOException</PRE>
<DL>
<DD>Method which writes an index to a RandomAccessFile
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="print()"><!-- --></A><H3>
print</H3>
<PRE>
public void <B>print</B>()</PRE>
<DL>
<DD>Method which writes an index to stdout
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getNumIdx()"><!-- --></A><H3>
getNumIdx</H3>
<PRE>
public int <B>getNumIdx</B>()</PRE>
<DL>
<DD>The number of index entries.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getIdxInterval()"><!-- --></A><H3>
getIdxInterval</H3>
<PRE>
public int <B>getIdxInterval</B>()</PRE>
<DL>
<DD>The interval, in samples, between two index entries.
<P>
<DD><DL>

<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="getIdxField(int)"><!-- --></A><H3>
getIdxField</H3>
<PRE>
public <A HREF="../../../marytts/unitselection/data/TimelineReader.IdxField.html" title="class in marytts.unitselection.data">TimelineReader.IdxField</A> <B>getIdxField</B>(int&nbsp;i)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getIdxFieldBefore(long)"><!-- --></A><H3>
getIdxFieldBefore</H3>
<PRE>
public <A HREF="../../../marytts/unitselection/data/TimelineReader.IdxField.html" title="class in marytts.unitselection.data">TimelineReader.IdxField</A> <B>getIdxFieldBefore</B>(long&nbsp;timePosition)</PRE>
<DL>
<DD>Returns the index field that comes immediately before or straight on the requested time.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>timePosition</CODE> - the non-negative time
<DT><B>Returns:</B><DD>an index field representing the index position just before or straight on the requested time.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the given timePosition is negtive</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/TimelineReader.Index.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../marytts/unitselection/data/TimelineReader.IdxField.html" title="class in marytts.unitselection.data"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../marytts/unitselection/data/TimelineReader.ProcHeader.html" title="class in marytts.unitselection.data"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?marytts/unitselection/data/TimelineReader.Index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TimelineReader.Index.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
